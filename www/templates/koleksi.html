<ion-view view-title="Koleksi Buku">
	<ion-content class="page-koleksi">
		
		<div class="topics">
			<ul ng-style="{width: (topics.length * 100) + 'px'}">
				<li ng-repeat="topic in topics track by $index" ng-style="{'background-color': getBG(topic.id)}" ng-click="openTopic(topic.id)">{{topic.topic}}</li>
			</ul>
		</div>

		<form ng-submit="doSearch()">
		<div class="list list-inset search">
			<label class="item item-input">
				<i class="icon ion-search placeholder-icon"></i>
				<input type="text" placeholder="Cari Buku" ng-model="search.text">
			</label>
		</div>
		</form>
		
		<div class="cards books">
			<div class="card book" ng-repeat="book in books track by $index" ng-click="openBook(book.biblio_id)">
				<div class="thumbnail" ng-style="{backgroundImage: 'url(' + getBookThumbnail(book.image) + ')'}" ng-show="book.image">
				</div>
				<div class="thumbnail" ng-hide="book.image" ng-style="{'background-color': getColor($index)}">
					<div class="text">
						{{book.title}}
					</div>
				</div>
				<div class="detail">
					<div class="title">{{book.title}}</div>
					<div class="info">{{book.authors}}</div>
					<div class="info">{{book.publisher_name}}</div>
					<div class="info">{{book.publish_year}}</div>
					<div class="info stars">
						<span class="star icon" ng-class="{'ion-android-star': (book.rate >= 1), 'ion-android-star-half': ((book.rate >= 0.3) && (book.rate < 0.7)), 'ion-android-star-outline': (book.rate < 0.3)}"></span>
						<span class="star icon" ng-class="{'ion-android-star': (book.rate >= 2), 'ion-android-star-half': ((book.rate >= 1.3) && (book.rate < 1.7)), 'ion-android-star-outline': (book.rate < 1.3)}"></span>
						<span class="star icon" ng-class="{'ion-android-star': (book.rate >= 2), 'ion-android-star-half': ((book.rate >= 2.3) && (book.rate < 2.7)), 'ion-android-star-outline': (book.rate < 2.3)}"></span>
						<span class="star icon" ng-class="{'ion-android-star': (book.rate >= 3), 'ion-android-star-half': ((book.rate >= 3.3) && (book.rate < 3.7)), 'ion-android-star-outline': (book.rate < 3.3)}"></span>
						<span class="star icon" ng-class="{'ion-android-star': (book.rate >= 4), 'ion-android-star-half': ((book.rate >= 4.3) && (book.rate < 4.7)), 'ion-android-star-outline': (book.rate < 4.3)}"></span>
					</div>
				</div>
			</div>
		</div>

		<button class="button button-full button-primary" ng-click="doLoadMore()" ng-show="canLoadMore()">
			<span style="float: initial; display: inline-block;" class="icon ion-chevron-down"></span>
		</button>

	</ion-content>
</ion-view>


