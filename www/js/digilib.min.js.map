{"version":3,"sources":["config.js","module-setting.js","module-user.js","app.js","controllers.js","controller-buku.js","controller-favorit.js","controller-feedback.js","controller-koleksi.js","controller-login.js","controller-pemberitahuan.js","controller-pengaturan.js","controller-pesan.js","controller-pinjaman.js","controller-profil.js"],"names":["lg","console","log","bind","lgi","lge","lgw","apiUrl","settingModule","angular","module","factory","$root","$q","set","key","data","window","localStorage","JSON","stringify","get","str","parse","e","resolveOnlineImage","url","resolveLocalFileSystemURL","defer","filename","split","lastValue","when","cordova","file","applicationStorageDirectory","entry","localUrl","toURL","resolve","FileTransfer","ft","download","error","promise","run","setting","userModule","$httpProvider","defaults","headers","post","$http","Upload","changeKey","newKey","common","token","f","isLogin","localProfile","serialize","obj","prefix","p","hasOwnProperty","k","v","push","encodeURIComponent","join","profile","val","getKey","setKey","this","cek","isLoginLocal","login","email","password","ini","credential","success","status","reject","message","detail","err","register","registerData","changeAvatar","upload","method","sendFieldsAs","fields","progress","evt","progressPercentage","parseInt","loaded","total","notify","config","cekLocal","member_image","then","$broadcast","logout","user","$rootScope","$ionicPlatform","ready","mainApp","$ionicConfig","$ionicHistory","plugins","Keyboard","hideKeyboardAccessoryBar","disableScroll","StatusBar","styleDefault","$stateProvider","$urlRouterProvider","$ionicConfigProvider","tabs","style","position","navBar","alignTitle","positionPrimaryButtons","state","abstract","templateUrl","controller","views","historyRoot","content","otherwise","controll","$location","path","$scope","$state","$ionicSideMenuDelegate","info","$on","ts","fs","isBackButtonShow","backView","changeState","to","isOpenLeft","toggleLeft","go","getColor","id","colors","length","books","title","author","thumbnail","rating","review_count","stock","available","pages_count","isbn","year","shelf_number","reviews","name","date","like","messages","subject","borroweds","date_borrow","date_return","params","book","isFavorit","setRating","n","clearHistory","$ionicLoading","openBook","doRefresh","show","template","setTimeout","hide","$ionicPopup","username","doLogin","alert","res","openRegister","member_id","member_name","member_phone","openLogin","doRegister","mailtest","test","password2","doLogout"],"mappings":"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","file":"digilib.min.js","sourcesContent":["var lg = console.log.bind(console);\r\nvar lgi = console.log.bind(console);\r\nvar lge = console.log.bind(console);\r\nvar lgw = console.log.bind(console);\r\n\r\n\r\nvar apiUrl = \"http://localhost/perpus/api/\";","var settingModule = angular.module(\"SettingModule\", []);\r\n\r\nsettingModule.factory(\"setting\", [\"$rootScope\", \"$q\", function($root, $q) {\r\n\r\n\treturn {\r\n\t\tset: function(key, data) {\r\n\t\t\tif (!window.localStorage)\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tif (typeof data == \"object\") {\r\n\t\t\t\tdata = JSON.stringify(data);\r\n\t\t\t}\t\r\n\r\n\t\t\t/*if (!data || (data == \"null\"))\r\n\t\t\tconsole.info(\"remove local data \", key, data);*/\r\n\r\n\t\t\twindow.localStorage[key] = data;\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tget: function(key) {\r\n\t\t\tif (window.localStorage) {\r\n\t\t\t\tvar str = window.localStorage[key];\r\n\t\t\t\t//console.log(key, str);\r\n\t\t\t\tif (str) {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar data = JSON.parse(str);\r\n\t\t\t\t\t\t/*console.log(\"get local data\", key, data);*/\r\n\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\tif (str == \"undefined\") {\t\r\n\t\t\t\t\t\t\treturn undefined;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (str == \"false\") {\t\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn str;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif (str == \"undefined\") {\t\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t\tif (str == \"false\") {\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t/*console.log(\"local data\", str);*/\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tresolveOnlineImage: function(url) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tif (window.resolveLocalFileSystemURL) {\r\n\t\t\t\tvar defer = $q.defer();\r\n\r\n\t\t\t\tvar filename = url.split('/').lastValue;\r\n\r\n\t\t\t\tif (!filename)\r\n\t\t\t\t\treturn $q.when(url);\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\twindow.resolveLocalFileSystemURL(cordova.file.applicationStorageDirectory + filename, function(entry) {\r\n\t\t\t\t\t\t/* get data from local */\r\n\t\t\t\t\t\tconsole.log(\"get local image : \" + cordova.file.applicationStorageDirectory + filename);\r\n\r\n\t\t\t\t\t\tvar localUrl = entry.toURL();\t\t\t\t\t\t\r\n\t\t\t\t\t\tdefer.resolve(localUrl);\r\n\r\n\t\t\t\t\t}, function() {\r\n\t\t\t\t\t\t/* save image to local */\r\n\r\n\t\t\t\t\t\tif (FileTransfer) {\r\n\t\t\t\t\t\t\tvar ft = new FileTransfer();\r\n\t\t\t\t\t\t\tft.download(\r\n\t\t\t\t\t\t\t\turl, cordova.file.applicationStorageDirectory + filename,\r\n\t\t\t\t\t\t\t\tfunction(entry) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"save online image : \" + cordova.file.applicationStorageDirectory + filename);\r\n\r\n\t\t\t\t\t\t\t\t\tvar localUrl = entry.toURL();\r\n\t\t\t\t\t\t\t\t\tdefer.resolve(localUrl);\r\n\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfunction(error) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"failed save online image\");\r\n\r\n\t\t\t\t\t\t\t\t\tdefer.resolve(url);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('FileTransfer not supported');\r\n\t\t\t\t\t\t\tdefer.resolve(url);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treturn $q.when(url);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn defer.promise;\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('resolveLocalFileSystemURL not supported');\r\n\t\t\t\treturn $q.when(url);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n}]);\r\n\r\nsettingModule.run([\"$rootScope\", \"setting\", function($root, setting) {\r\n\r\n\t$root.setting = setting;\r\n}]);","var userModule = angular.module(\"UserModule\", [], [\"$httpProvider\", function($httpProvider) {\r\n\t$httpProvider.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n}]);\r\n\r\nuserModule.factory(\"user\", [\"$http\",\"$q\", \"$rootScope\", \"Upload\", \"setting\", function($http, $q, $root, Upload, setting) {\r\n\r\n\twindow.f = $http;\r\n\t\r\n\tvar key = window.localStorage[\"digilib-upi\"] || \"\";\r\n\tvar isLogin = false;\r\n\tvar withCookie = false;\r\n\tvar localProfile = setting.get(\"profile\") || {};\r\n\r\n\t$http.defaults.headers.common.token = key;\r\n\r\n\tfunction changeKey(newKey) {\r\n\t\tkey = newKey;\r\n\t\t$http.defaults.headers.common.token = key;\r\n\t\twindow.localStorage[\"digilib-upi\"] = key;\r\n\t\tconsole.log(\"change key\", key);\r\n\t}\r\n\tserialize = function(obj, prefix) {\r\n\t\tvar str = [];\r\n\t\tfor(var p in obj) {\r\n\t\t\tif (obj.hasOwnProperty(p)) {\r\n\t\t\t\tvar k = prefix ? prefix + \"[\" + p + \"]\" : p, v = obj[p];\r\n\t\t\t\tstr.push(typeof v == \"object\" ?\r\n\t\t\t\t\tserialize(v, k) :\r\n\t\t\t\t\tencodeURIComponent(k) + \"=\" + encodeURIComponent(v));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str.join(\"&\");\r\n\t};\r\n\tfunction createGetRequest(uri, saveCall) {\r\n\t\tvar defer  = $q.defer();\r\n\r\n\t\tif (uri.indexOf('?') >= 0) {\r\n\t\t\turi += '&buzzdata=' + (new Date()).getTime().toString();\r\n\t\t} else {\r\n\t\t\turi += '?buzzdata=' + (new Date()).getTime().toString();\r\n\t\t}\r\n\r\n\t\tvar promise = $http.get(apiUrl + uri).\r\n\t\tsuccess(function(data) {\r\n\t\t\tif (data.status) {\r\n\t\t\t\tdefer.resolve(data.data);\r\n\t\t\t} else {\r\n\t\t\t\tdefer.reject(data.message);\r\n\t\t\t}\r\n\t\t}).\r\n\t\tcatch(function(err) {\r\n\t\t\tdefer.reject(err);\r\n\t\t});\r\n\r\n\t\treturn defer.promise;\r\n\t}\r\n\tfunction createPostRequest(uri, params) {\r\n\t\tvar defer  = $q.defer();\r\n\r\n\t\tif (uri.indexOf('?') >= 0) {\r\n\t\t\turi += '&buzzdata=' + (new Date()).getTime().toString();\r\n\t\t} else {\r\n\t\t\turi += '?buzzdata=' + (new Date()).getTime().toString();\r\n\t\t}\r\n\r\n\t\tvar promise = $http.post(apiUrl + uri, serialize(params)).\r\n\t\tsuccess(function(data) {\r\n\t\t\tif (data.status) {\r\n\t\t\t\tdefer.resolve(data.data);\r\n\t\t\t} else {\r\n\t\t\t\tdefer.reject(data.message);\r\n\t\t\t}\r\n\t\t}).\r\n\t\tcatch(function(err) {\r\n\t\t\tdefer.reject(err);\r\n\t\t});\r\n\r\n\t\treturn defer.promise;\r\n\t}\r\n\tfunction createUploadRequest(uri, file, data) {\r\n\t\tvar defer = $q.defer();\r\n\r\n\t\tUpload.upload({\r\n\t\t\turl: apiUrl + uri,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tfile: file,\r\n\t\t\tsendFieldsAs: 'form',\r\n\t\t\tfields: data\r\n\t\t}).progress(function (evt) {\r\n\t\t\tvar progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\r\n\t\t\tdefer.notify(progressPercentage);\r\n\t\t}).success(function (data, status, headers, config) {\r\n\t\t\tif (data.status) {\r\n\t\t\t\tdefer.resolve(data.data);\r\n\t\t\t} else {\r\n\t\t\t\tdefer.reject(data.message);\r\n\t\t\t}\r\n\t\t}).error(function (data, status, headers, config) {\r\n\t\t\tdefer.reject(\"connection_failed\");\r\n\t\t});\r\n\r\n\t\treturn defer.promise;\r\n\t}\r\n\r\n\treturn {\r\n\t\tget profile() {\r\n\t\t\treturn localProfile;\r\n\t\t},\r\n\t\tset profile(val) {\r\n\t\t\tlocalProfile = val;\r\n\t\t},\r\n\t\tgetKey: function() {\r\n\t\t\treturn key;\r\n\t\t},\r\n\t\tsetKey: function(key) {\r\n\t\t\tchangeKey(key);\r\n\r\n\t\t\tif (key)\r\n\t\t\t\tisLogin = true;\r\n\t\t\tthis.cek();\r\n\t\t},\r\n\t\tisLogin: function() {\r\n\t\t\tlgi(\"isLogin\", isLogin);\r\n\t\t\treturn isLogin;\r\n\t\t},\r\n\t\tisLoginLocal: function() {\r\n\t\t\treturn (key !== \"\");\r\n\t\t},\r\n\t\tlogin: function(email, password) {\r\n\t\t\tvar defer = $q.defer();\r\n\t\t\tvar ini = this;\r\n\r\n\t\t\tvar credential = {email: email, password: password};\r\n\r\n\t\t\t$http.post(apiUrl + \"auth/login\", serialize(credential)).\r\n\t\t\tsuccess(function(data) {\r\n\t\t\t\tif (data.status) {\r\n\t\t\t\t\tif (data.data && data.data.token) {\r\n\t\t\t\t\t\tchangeKey(data.data.token);\r\n\r\n\t\t\t\t\t\tisLogin = true;\t\t\r\n\t\t\t\t\t\tini.cek();\r\n\t\t\t\t\t\tdefer.resolve(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdefer.reject(\"Gagal mengambil token login.\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (data.message && (typeof data.detail == \"string\")) {\r\n\t\t\t\t\t\tdefer.reject(data.detail);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdefer.reject(\"Username / Password salah\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).\r\n\t\t\tcatch(function(err) {\r\n\t\t\t\tdefer.reject(err);\r\n\t\t\t});\r\n\r\n\t\t\treturn defer.promise;\r\n\t\t},\r\n\t\tregister: function(registerData) {\r\n\t\t\tvar defer = $q.defer();\r\n\t\t\tvar ini = this;\r\n\r\n\t\t\t$http.post(apiUrl + \"auth/register\", serialize(registerData)).\r\n\t\t\tsuccess(function(data) {\r\n\t\t\t\tif (data.status) {\r\n\t\t\t\t\tif (data.data && data.data.token) {\r\n\t\t\t\t\t\tchangeKey(data.data.token);\r\n\r\n\t\t\t\t\t\tisLogin = true;\t\t\r\n\t\t\t\t\t\tini.cek();\r\n\t\t\t\t\t\tdefer.resolve(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdefer.reject(\"Gagal mengambil token login.\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (data.message && (typeof data.message == \"string\")) {\r\n\t\t\t\t\t\tdefer.reject(data.message);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdefer.reject(\"Username / Password salah\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).\r\n\t\t\tcatch(function(err) {\r\n\t\t\t\tdefer.reject(err);\r\n\t\t\t});\r\n\r\n\t\t\treturn defer.promise;\r\n\t\t},\r\n\t\tchangeAvatar: function(file) {\r\n\t\t\tvar defer = $q.defer();\r\n\r\n\t\t\tUpload.upload({\r\n\t\t\t\turl: apiUrl + \"changeAvatar\",\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tfile: file,\r\n\t\t\t\tsendFieldsAs: 'form',\r\n\t\t\t\tfields: {\r\n\t\t\t\t}\r\n\t\t\t}).progress(function (evt) {\r\n\t\t\t\tvar progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\r\n\t\t\t\tdefer.notify(progressPercentage);\r\n\t\t\t}).success(function (data, status, headers, config) {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tif (data.status)\r\n\t\t\t\t\tdefer.resolve(data.data);\r\n\t\t\t\telse\r\n\t\t\t\t\tdefer.reject(false);\r\n\t\t\t}).error(function (data, status, headers, config) {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tdefer.reject(false);\r\n\t\t\t});\r\n\r\n\t\t\treturn defer.promise;\r\n\t\t},\r\n\t\tcekLocal: function() {\r\n\t\t\tlgi(\"cek local\", key);\r\n\r\n\t\t\tif (key === \"\") {\r\n\t\t\t\treturn $q.when({status: false});\r\n\t\t\t} else {\r\n\t\t\t\treturn $q.when({status: true});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcek: function() {\r\n\t\t\tvar defer = $q.defer();\r\n\t\t\tvar ini = this;\r\n\r\n\t\t\tif (key === \"\") {\r\n\t\t\t\treturn $q.when({status: false});\r\n\t\t\t}\r\n\r\n\t\t\t$http.get(apiUrl + \"user\").\r\n\t\t\tsuccess(function(data, status) {\r\n\t\t\t\tlgi(\"cek login\", data.status, data.data);\r\n\t\t\t\tif (data.status) {\r\n\t\t\t\t\tisLogin = true;\r\n\r\n\r\n\t\t\t\t\tini.profile = data.data;\r\n\t\t\t\t\tif (!ini.profile.member_image) {\r\n\t\t\t\t\t\tini.profile.member_image = \"img/default-user-image.png\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetting.resolveOnlineImage(ini.profile.member_image).then(function(url) {\r\n\t\t\t\t\t\t\tini.profile.member_image = url;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetting.set(\"profile\", ini.profile);\r\n\r\n\t\t\t\t\tdefer.resolve(data.data);\r\n\r\n\t\t\t\t\t$root.$broadcast(\"onuser\", ini.profile);\r\n\r\n\t\t\t\t} else if (data.hasOwnProperty(\"status\")) {\r\n\t\t\t\t\tchangeKey(\"\");\r\n\t\t\t\t\tdefer.resolve(data);\r\n\t\t\t\t} else if (data.hasOwnProperty('message')) {\r\n\t\t\t\t\tdefer.reject(data.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdefer.reject(JSON.stringify(data));\r\n\t\t\t\t}\r\n\t\t\t}).\r\n\t\t\tcatch(function(err) {\r\n\t\t\t\tdefer.reject(JSON.stringify(err));\r\n\t\t\t});\r\n\r\n\t\t\treturn defer.promise;\r\n\t\t},\r\n\t\tchangeKey: changeKey,\r\n\t\tlogout: function() {\r\n\t\t\tvar defer  = $q.defer();\r\n\t\t\tvar promise = $http.get(apiUrl + \"logout\").\r\n\t\t\tsuccess(function(data) {\r\n\t\t\t\tisLogin = false;\r\n\t\t\t\tchangeKey(\"\");\r\n\t\t\t\tdefer.resolve(true);\r\n\t\t\t}).\r\n\t\t\tcatch(function(err) {\r\n\t\t\t\tisLogin = false;\r\n\t\t\t\tchangeKey(\"\");\r\n\t\t\t\tdefer.resolve(true);\r\n\t\t\t});\r\n\r\n\t\t\treturn defer.promise;\r\n\t\t}\r\n\t};\r\n\r\n}]);\r\n\r\nuserModule.run([\"user\", \"$rootScope\", \"$http\", \"$ionicPlatform\", function(user, $rootScope, $http, $ionicPlatform) {\r\n\t$ionicPlatform.ready(function() {\r\n\t\tconsole.log(\"Ionic Ready\");\r\n\t\t$rootScope.user = user;\r\n\t\tuser.cek();\r\n\t});\r\n}]);\r\n","var mainApp = angular.module('digilib', ['ionic', 'controllers', 'UserModule', 'SettingModule', 'ngFileUpload']);\r\n\r\nmainApp.run(['$ionicConfig', '$ionicPlatform', '$ionicHistory', '$rootScope', function($ionicConfig, $ionicPlatform, $ionicHistory, $rootScope) {\r\n\r\n\t$ionicPlatform.ready(function() {\r\n\r\n\t\tif (window.cordova && window.cordova.plugins.Keyboard) {\r\n\t\t\tcordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\r\n\t\t\tcordova.plugins.Keyboard.disableScroll(true);\r\n\r\n\t\t}\r\n\t\tif (window.StatusBar) {\r\n\t\t\tStatusBar.styleDefault();\r\n\t\t}\r\n\t});\r\n\r\n\t//$rootScope.user = user;\r\n\r\n}]);\r\n\r\nmainApp.config([\"$stateProvider\", \"$urlRouterProvider\", \"$ionicConfigProvider\", function($stateProvider, $urlRouterProvider, $ionicConfigProvider) {\r\n\t//$ionicConfigProvider.views.transition('ios');\r\n    $ionicConfigProvider.tabs.style('standard').position('bottom');\r\n    $ionicConfigProvider.navBar.alignTitle('center').positionPrimaryButtons('left');\r\n\r\n\t$stateProvider\r\n\r\n\t.state('app', {\r\n\t\turl: '/app',\r\n\t\tabstract: true,\r\n\t\ttemplateUrl: 'templates/index.html',\r\n\t\tcontroller: 'IndexController'\r\n\t})\r\n\r\n\t.state('app.koleksi', {\r\n\t\turl: '/koleksi',\r\n\t\tviews: {\r\n\t\t\thistoryRoot: true,\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/koleksi.html',\r\n\t\t\t\tcontroller: 'KoleksiController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.profil', {\r\n\t\turl: '/profil',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/profil.html',\r\n\t\t\t\tcontroller: 'ProfilController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.buku', {\r\n\t\turl: '/buku/:id',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/buku.html',\r\n\t\t\t\tcontroller: 'BukuController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.buku-review', {\r\n\t\turl: '/buku/:id',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/buku-review.html',\r\n\t\t\t\tcontroller: 'BukuController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.pesan', {\r\n\t\turl: '/pesan',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/pesan.html',\r\n\t\t\t\tcontroller: 'PesanController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.pemberitahuan', {\r\n\t\turl: '/pemberitahuan',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/pemberitahuan.html',\r\n\t\t\t\tcontroller: 'PemberitahuanController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.pinjaman', {\r\n\t\turl: '/pinjaman',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/pinjaman.html',\r\n\t\t\t\tcontroller: 'PinjamanController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.favorit', {\r\n\t\turl: '/favorit',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/favorit.html',\r\n\t\t\t\tcontroller: 'FavoritController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.send_feedback', {\r\n\t\turl: '/send-feedback',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/send-feedback.html',\r\n\t\t\t\tcontroller: 'SendFeedbackController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('app.pengaturan', {\r\n\t\turl: '/pengaturan',\r\n\t\tviews: {\r\n\t\t\tcontent: {\r\n\t\t\t\ttemplateUrl: 'templates/pengaturan.html',\r\n\t\t\t\tcontroller: 'PengaturanController'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t.state('login', {\r\n\t\turl: '/login',\r\n\t\ttemplateUrl: 'templates/login.html',\r\n\t\tcontroller: 'LoginController'\r\n\t})\r\n\t.state('register', {\r\n\t\turl: '/register',\r\n\t\ttemplateUrl: 'templates/login-register.html',\r\n\t\tcontroller: 'RegisterController'\r\n\t})\r\n\t;\r\n\r\n\t$urlRouterProvider.otherwise('/app/koleksi');\r\n  \r\n\r\n \r\n}]);\r\n","var controll = angular.module('controllers', []);\r\n\r\ncontroll.run(['$ionicPlatform', '$ionicHistory', '$rootScope', 'user', '$location', function($ionicPlatform, $ionicHistory, $rootScope, user, $location) {\r\n\tif (!user.isLoginLocal()) {\r\n\t\t$location.path('/login');\r\n\t}\r\n}]);\r\n\r\n\r\n/*\r\nMain Controller\r\n*/\r\ncontroll.controller('IndexController', ['$scope', '$state', '$ionicHistory', '$location', '$ionicSideMenuDelegate', 'user', function($scope, $state, $ionicHistory, $location, $ionicSideMenuDelegate, user) {\r\n\tconsole.info(\"IndexController\");\r\n\r\n\t$scope.$on('$ionicView.enter', function(e, ts) {\r\n\t\t//lgi(\"enter\", e, ts);\r\n\t});\r\n\t$scope.$on('$ionicView.leave', function(e, fs) {\r\n\t\t//lgi(\"leave\", e, fs);\r\n\t});\r\n\r\n\t$scope.isBackButtonShow = function() {\r\n\t\treturn $ionicHistory.backView() !== null;\r\n\t};\r\n\t$scope.changeState = function(to) {\r\n\t\tif ($ionicSideMenuDelegate.isOpenLeft()) {\r\n\t\t\t$ionicSideMenuDelegate.toggleLeft();\r\n\t\t}\r\n\t\t$state.go(to);\r\n\t};\r\n\t$scope.getColor = function (id) {\r\n\t\tid = id || 0;\r\n\t\tvar colors = [\"#F44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#E65100\", \"#33691E\", \"#827717\", \"#006064\", \"#01579B\", \"#009688\", \"#424242\"];\r\n\t\tif (id >= colors.length) {\r\n\t\t\tid = id % colors.length;\r\n\t\t}\r\n\r\n\t\treturn colors[id];\r\n\t};\r\n\r\n\r\n\t/* SAMPLE DATA */\r\n\t$scope.books = [\r\n\t{\r\n\t\ttitle: \"Dongeng Liburan\",\r\n\t\tauthor: \"Usborne\",\r\n\t\tthumbnail: \"img/books/dongeng.jpg\",\r\n\t\trating: 4.5,\r\n\t\treview_count: 2,\r\n\t\tstock: {\r\n\t\t\tavailable: 6,\r\n\t\t\ttotal: 12\r\n\t\t},\r\n\t\tpages_count: 400,\r\n\t\tisbn: \"9785412652316\",\r\n\t\tyear: 2010,\r\n\t\tshelf_number: 3.1,\r\n\t},\r\n\t{\r\n\t\ttitle: \"Kancil Milenium Baru\",\r\n\t\tauthor: \"Witarsa, S. Pd.\",\r\n\t\tthumbnail: \"img/books/kancil.jpeg\",\r\n\t\trating: 4.9,\r\n\t\treview_count: 10,\r\n\t\tstock: {\r\n\t\t\tavailable: 3,\r\n\t\t\ttotal: 10\r\n\t\t},\r\n\t\tpages_count: 300,\r\n\t\tisbn: \"9785412123019\",\r\n\t\tyear: 2014,\r\n\t\tshelf_number: 4.1,\r\n\t},\r\n\t{\r\n\t\ttitle: \"Boneshaker\",\r\n\t\tauthor: \"Cherie Priest\",\r\n\t\tthumbnail: \"img/books/book1.jpg\",\r\n\t\trating: 3.5,\r\n\t\treview_count: 15,\r\n\t\tstock: {\r\n\t\t\tavailable: 5,\r\n\t\t\ttotal: 20\r\n\t\t},\r\n\t\tpages_count: 300,\r\n\t\tisbn: \"9785412654856\",\r\n\t\tyear: 2000,\r\n\t\tshelf_number: 4.1,\r\n\t},\r\n\t{\r\n\t\ttitle: \"The Anubis Gates\",\r\n\t\tauthor: \"Tim Powers\",\r\n\t\tthumbnail: \"img/books/book2.jpg\",\r\n\t\trating: 2.5,\r\n\t\treview_count: 17,\r\n\t\tstock: {\r\n\t\t\tavailable: 5,\r\n\t\t\ttotal: 34\r\n\t\t},\r\n\t\tpages_count: 250,\r\n\t\tisbn: \"9856327594524\",\r\n\t\tyear: 2010,\r\n\t\tshelf_number: 5.324\r\n\t},\r\n\t{\r\n\t\ttitle: \"The Time Traveler's Wife\",\r\n\t\tauthor: \"Audrey Niffenegger\",\r\n\t\tthumbnail: \"img/books/book3.jpg\",\r\n\t\trating: 4,\r\n\t\treview_count: 5,\r\n\t\tstock: {\r\n\t\t\tavailable: 15,\r\n\t\t\ttotal: 40\r\n\t\t},\r\n\t\tpages_count: 270,\r\n\t\tisbn: \"9785454896326\",\r\n\t\tyear: 2013,\r\n\t\tshelf_number: 2.43\r\n\t},\r\n\t{\r\n\t\ttitle: \"Fortune's Rocks\",\r\n\t\tauthor: \"Anita Shreve\",\r\n\t\tthumbnail: \"img/books/book4.jpg\",\r\n\t\trating: 4,\r\n\t\treview_count: 5,\r\n\t\tstock: {\r\n\t\t\tavailable: 15,\r\n\t\t\ttotal: 40\r\n\t\t},\r\n\t\tpages_count: 270,\r\n\t\tisbn: \"9785454896326\",\r\n\t\tyear: 2013,\r\n\t\tshelf_number: 8.23\r\n\t}\r\n\t];\r\n\r\n\t$scope.reviews = [\r\n\t{\r\n\t\tname: \"Afief Yona R\",\r\n\t\tdate: \"10 Oktober 2015\",\r\n\t\tcontent: \"Proin euismod sapien quis libero luctus elementum. Mauris semper ullamcorper porta. Integer aliquam ullamcorper ante vel convallis. Fusce nec lacus quis mi accumsan lobortis. Aliquam erat volutpat. Nunc condimentum pharetra accumsan. Suspendisse pharetra convallis dui, eu faucibus eros rhoncus nec.\",\r\n\t\tlike: false,\r\n\t\tthumbnail: \"img/afief.jpg\"\r\n\t},\r\n\t{\r\n\t\tname: \"Rizky Djati M\",\r\n\t\tdate: \"9 Agustus 2015\",\r\n\t\tcontent: \"Proin euismod sapien quis libero luctus elementum. Mauris semper ullamcorper porta. Integer aliquam ullamcorper ante vel convallis. Fusce nec lacus quis mi accumsan lobortis. Aliquam erat volutpat. Nunc condimentum pharetra accumsan. Suspendisse pharetra convallis dui, eu faucibus eros rhoncus nec.\",\r\n\t\tlike: true,\r\n\t\tthumbnail: \"img/djati.jpg\"\r\n\t},\r\n\t{\r\n\t\tname: \"Henida W\",\r\n\t\tdate: \"6 Agustus 2015\",\r\n\t\tcontent: \"Proin euismod sapien quis libero luctus elementum. Mauris semper ullamcorper porta. Integer aliquam ullamcorper ante vel convallis. Fusce nec lacus quis mi accumsan lobortis. Aliquam erat volutpat. Nunc condimentum pharetra accumsan. Suspendisse pharetra convallis dui, eu faucibus eros rhoncus nec.\",\r\n\t\tlike: false,\r\n\t\tthumbnail: \"img/nurul.jpg\"\r\n\t}\r\n\t];\r\n\r\n\t$scope.messages = [\r\n\t{\r\n\t\tname: \"Admin\",\r\n\t\tdate: \"10 Oktober 2015\",\r\n\t\tsubject: \"Teguran\",\r\n\t\tcontent: \"Buku `Merajut Untaian Rindu` telah melebihi waktu pengembalian.\",\r\n\t\tthumbnail: \"img/djati.jpg\"\r\n\t},\r\n\t{\r\n\t\tname: \"Admin\",\r\n\t\tdate: \"3 Oktober 2015\",\r\n\t\tsubject: \"Respon Tanggapan\",\r\n\t\tcontent: \"Terimakasih telah memberikan tanggapan pada tanggal 2 Oktober 2015. Kami akan terus memperbaiki aplikasi ini menjadi lebih baik. Terima kasih.\",\r\n\t\tthumbnail: \"img/nurul.jpg\"\r\n\t}\r\n\t];\r\n\r\n\r\n\t$scope.borroweds = [\r\n\t{\r\n\t\ttitle: \"The Forever War\",\r\n\t\tauthor: \"Joe Haldeman\",\t\t\r\n\t\tthumbnail: \"img/books/book5.jpg\",\r\n\t\tpages_count: 300,\r\n\t\tisbn: \"9785412654856\",\r\n\t\tyear: 2000,\r\n\t\tdate_borrow: \"15 September 2015\",\r\n\t\tdate_return: \"10 Oktober 2015\"\r\n\t},\r\n\t{\r\n\t\ttitle: \"Ender's Game\",\r\n\t\tauthor: \"Orson Scott\",\t\t\r\n\t\tthumbnail: \"img/books/book6.jpg\",\r\n\t\tpages_count: 210,\r\n\t\tisbn: \"9785412654856\",\r\n\t\tyear: 2010,\r\n\t\tdate_borrow: \"12 September 2015\",\r\n\t\tdate_return: \"13 Oktober 2015\"\r\n\t},\r\n\t{\r\n\t\ttitle: \"Merajut Untaian Rindu\",\r\n\t\tauthor: \"Alibaba Everest\",\t\t\r\n\t\tthumbnail: \"img/books/book1.jpg\",\r\n\t\tpages_count: 250,\r\n\t\tisbn: \"9788935487965\",\r\n\t\tyear: 2015,\r\n\t\tdate_borrow: \"10 September 2015\",\r\n\t\tdate_return: \"7 Oktober 2015\"\r\n\t}\r\n\t];\r\n}]);","controll.controller('BukuController', ['$scope', '$state', '$ionicHistory', 'user', function($scope, $state, $ionicHistory, user) {\r\n\tconsole.info(\"Buku Controller\");\r\n\r\n\t$scope.id = $state.params.id;\r\n\t$scope.book = $scope.books[$scope.id - 1];\r\n\t$scope.isFavorit = false;\r\n\r\n\t$scope.rating = 0;\r\n\t$scope.setRating = function(n) {\r\n\t\t$scope.rating = n;\r\n\t};\r\n}]);","controll.controller('FavoritController', ['$scope', '$state', '$ionicHistory', 'user', function($scope, $state, $ionicHistory, user) {\r\n\tconsole.info('FavoritController');\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n}]);","controll.controller('SendFeedbackController', ['$scope', '$state', '$ionicHistory', 'user', function($scope, $state, $ionicHistory, user) {\r\n\tconsole.info('SendFeedbackController');\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n}]);","controll.controller('KoleksiController', ['$scope', '$state', '$ionicHistory', '$ionicLoading', 'user', function($scope, $state, $ionicHistory, $ionicLoading, user) {\r\n\tconsole.info(\"Koleksi Controller\");\r\n\r\n\t$scope.openBook = function(n) {\r\n\t\t$state.go(\"app.buku\", {id: n});\r\n\t};\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n\t$scope.doRefresh = function() {\r\n\t\t$ionicLoading.show({\r\n\t\t\t\ttemplate: 'Mengambil Buku'\r\n\t\t\t});\r\n\t\twindow.setTimeout(function() {\r\n\t\t\t$ionicLoading.hide();\r\n\t\t\t$scope.$broadcast('scroll.refreshComplete');\r\n\t\t}, 2000);\r\n\r\n\t};\r\n\r\n}]);","controll.controller('LoginController', ['$scope', '$location', '$ionicHistory', 'user', '$ionicPopup', '$ionicLoading', function($scope, $location, $ionicHistory, user, $ionicPopup, $ionicLoading) {\r\n\tconsole.info('LoginController');\r\n\r\n\t$ionicHistory.clearHistory();\r\n\t$scope.data = {\r\n\t\tusername: '',\r\n\t\tpassword: ''\r\n\t};\r\n\r\n\t$scope.doLogin = function() {\r\n\t\tconsole.log(\"login\", $scope.data.username);\r\n\t\tif($scope.data.username === \"\") {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Username / Email tidak boleh kosong.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else if ($scope.data.password === \"\") {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Password tidak boleh kosong.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t$ionicLoading.show({template: \"Memproses Login\"});\r\n\t\t\tuser.login($scope.data.username, $scope.data.password).then(function(res) {\r\n\t\t\t\t$location.path(\"/app/koleksi\");\r\n\t\t\t\t$ionicLoading.hide();\r\n\t\t\t}, function(err) {\r\n\t\t\t\t$ionicLoading.hide();\r\n\t\t\t\t$ionicPopup.alert({\r\n\t\t\t\t\ttemplate: err,\r\n\t\t\t\t\ttitle: \"Gagal\"\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.openRegister = function() {\r\n\t\t$location.path('register');\r\n\t};\r\n\r\n}]);\r\n\r\n\r\ncontroll.controller('RegisterController', ['$scope', '$location', '$ionicHistory', 'user', '$ionicPopup', '$ionicLoading', function($scope, $location, $ionicHistory, user, $ionicPopup, $ionicLoading) {\r\n\tconsole.log(\"RegisterController\");\r\n\r\n\t$scope.data = {\r\n\t\tmember_id: '',\r\n\t\tmember_name: '',\r\n\t\temail: '',\r\n\t\tmember_phone: '',\r\n\t\tpassword: ''\r\n\t};\r\n\r\n\t$scope.openLogin = function() {\r\n\t\t$location.path('login');\r\n\t};\r\n\r\n\t$scope.doRegister = function() {\r\n\t\tvar mailtest = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    \t\r\n\t\tif (!$scope.data.member_id || ($scope.data.member_id.length < 5)) {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Member ID tidak boleh kosong. Minimal 5 Karakter.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else if (!$scope.data.member_name || ($scope.data.member_name.length < 5)) {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Nama Lengkap tidak boleh kosong. Minimal 5 Karakter.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else if (!$scope.data.email) {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Email tidak boleh kosong.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else if (!mailtest.test($scope.data.email)) {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Format Email tidak benar.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else if (!$scope.data.member_phone && ($scope.data.member_phone.length < 5)) {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Nomor HP tidak boleh kosong.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else if (!$scope.data.password || ($scope.data.password.length < 6) || ($scope.data.password != $scope.data.password2)) {\r\n\t\t\t$ionicPopup.alert({\r\n\t\t\t\ttemplate: \"Password tidak boleh kosong dan minimal mengandung 6 karakter. Kedua password harus sama.\",\r\n\t\t\t\ttitle: \"Data Tidak Lengkap\"\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t$ionicLoading.show({template: \"Memproses Registrasi\"});\r\n\t\t\tuser.register($scope.data).then(function() {\r\n\t\t\t\t$location.path('/app/koleksi');\r\n\t\t\t\t$ionicLoading.hide();\r\n\t\t\t}, function(err) {\r\n\t\t\t\t$ionicLoading.hide();\r\n\t\t\t\t$ionicLoading.hide();\r\n\t\t\t\t$ionicPopup.alert({\r\n\t\t\t\t\ttemplate: err,\r\n\t\t\t\t\ttitle: \"Gagal\"\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}]);","controll.controller('PemberitahuanController', ['$scope', '$state', '$ionicHistory', 'user', function($scope, $state, $ionicHistory, user) {\r\n\tconsole.info(\"PemberitahuanController\");\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n}]);","controll.controller('PengaturanController', ['$scope', '$state', '$location', '$ionicHistory', 'user', function($scope, $state, $location, $ionicHistory, user) {\r\n\tconsole.info('PengaturanController');\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n\r\n\t$scope.doLogout = function() {\r\n\t\t$location.path(\"/login\");\r\n\t};\r\n\r\n}]);","controll.controller('PesanController', ['$scope', '$state', '$ionicHistory', 'user', function($scope, $state, $ionicHistory, user) {\r\n\tconsole.info('PesanController');\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n}]);","controll.controller('PinjamanController', ['$scope', '$state', '$ionicHistory', 'user', function($scope, $state, $ionicHistory, user) {\r\n\tconsole.info('PinjamanController');\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n}]);","controll.controller('ProfilController', ['$scope', '$state', '$ionicHistory', 'user', function($scope, $state, $ionicHistory, user) {\r\n\tconsole.info('ProfilController');\r\n\r\n\t$ionicHistory.clearHistory();\r\n\r\n}]);"],"sourceRoot":"/source/"}